{"version":3,"sources":["views/konfigurasi/aplikasi/FormAplikasi.js","views/konfigurasi/aplikasi/FormHelper.js","views/konfigurasi/aplikasi/Aplikasi.js"],"names":["FormAplikasi","React","memo","label","name","placeholder","value","onChange","onKeyPress","valid","md","row","htmlFor","xs","id","FormHelper","useState","nama","alamat","kota","telpon","email","website","kode_pos","kode_surat","url_server","file","logo","Form","SetForm","Valid","SetValid","Loading","SetLoading","NotifEnter","SetNotifEnter","Error","setError","Suk","setSuk","PanggilData","useCallback","a","User","JSON","parse","localStorage","getItem","axios","get","process","headers","Accept","Authorization","token","then","response","data","catch","error","console","log","useEffect","HandleForm","e","target","CobaSaveData","key","NameField","FormUpdate","method","url","instansi_id","res","SaveData","SaveFile","bodyFormData","FormData","set","Aplikasi","level","to","className","invalid","custom","files","onClick","event","variant","map","list","index"],"mappings":"iNAqBeA,EADMC,IAAMC,MAjBG,SAAC,GAAoE,IAAnEC,EAAkE,EAAlEA,MAAOC,EAA2D,EAA3DA,KAAMC,EAAqD,EAArDA,YAAaC,EAAwC,EAAxCA,MAAOC,EAAiC,EAAjCA,SAAUC,EAAuB,EAAvBA,WAAYC,EAAW,EAAXA,MACrF,OACE,kBAAC,KAAD,KACE,kBAAC,IAAD,CAAMC,GAAI,IACR,kBAAC,IAAD,CAAYC,KAAG,GACb,kBAAC,IAAD,CAAMD,GAAG,UACP,kBAAC,KAAD,CAAQE,QAAQ,cAAcT,IAEhC,kBAAC,IAAD,CAAMU,GAAG,KAAKH,GAAG,MACf,kBAAC,IAAD,CAAQD,MAAOA,EAAOH,MAAOA,EAAOC,SAAUA,EAAUO,GAAIV,EAAMA,KAAMA,EAAMC,YAAaA,EAAaG,WAAYA,IACpH,kBAAC,KAAD,oC,gFC+EGO,EAzFI,WAAO,IAAD,EAECC,mBAAS,CAACC,KAAO,GAAIC,OAAS,GAAIC,KAAO,GAAIC,OAAS,GAAIC,MAAQ,GAAIC,QAAU,GAAIC,SAAW,GAAIC,WAAa,GAAIC,WAAa,GAAIC,KAAO,GAAIC,KAAO,KAFxJ,mBAEhBC,EAFgB,KAEVC,EAFU,OAGGb,mBAAS,CAACC,KAAO,KAAMC,OAAS,KAAMC,KAAO,KAAMC,OAAS,KAAMC,MAAQ,KAAMC,QAAU,KAAMC,SAAW,KAAMC,WAAa,KAAMC,WAAa,OAHpJ,mBAGhBK,EAHgB,KAGTC,EAHS,OAIOf,oBAAS,GAJhB,mBAIhBgB,EAJgB,KAIPC,EAJO,OAKajB,oBAAS,GALtB,mBAKhBkB,EALgB,KAKJC,EALI,OAMGnB,mBAAS,IANZ,mBAMhBoB,EANgB,KAMTC,EANS,OAODrB,oBAAS,GAPR,mBAOhBsB,EAPgB,KAOXC,EAPW,KAgBjBC,EAAcC,sBAAW,sBAAC,4BAAAC,EAAA,6DACxBC,EAAOC,KAAKC,MAAMC,aAAaC,QAAQ,SADf,SAExBC,IAAMC,IAAN,UAAaC,0CAAb,iBAA4D,CAChEC,QAAS,CACPC,OAAQ,mBACRC,cAAc,UAAD,OAAYV,EAAKW,UAE/BC,MAAK,SAAAC,GACJ3B,EAAQ2B,EAASC,SAClBC,OAAM,SAAAC,GACLC,QAAQC,IAAIF,MAVc,OAY1B1B,GAAW,GAZe,2CAa7B,IAEH6B,qBAAW,WACTtB,MACA,CAACA,IAqDH,MAAO,CAACZ,OAAMmC,WA7EK,SAACC,GAClBnC,EAAQ,2BAAID,GAAL,kBAAYoC,EAAEC,OAAO7D,KAAQ4D,EAAEC,OAAO3D,SAC7CyB,EAAS,CAACd,KAAO,KAAMC,OAAS,KAAMC,KAAO,KAAMC,OAAS,KAAMC,MAAQ,KAAMC,QAAU,KAAMC,SAAW,KAAMC,WAAa,KAAMC,WAAa,OACjJU,GAAc,IA0EUH,UAASkC,aA7Bd,SAACF,GACP,UAAVA,EAAEG,KAvBU,SAACH,GAChB,IAAMrB,EAAOC,KAAKC,MAAMC,aAAaC,QAAQ,SACvCqB,EAAYJ,EAAEC,OAAO7D,KACrBiE,EAAU,eACbD,EAAaJ,EAAEC,OAAO3D,OAEzB0C,IAAM,CACJsB,OAAS,MACTC,IAAG,UAAMrB,0CAAN,yBAAqDP,EAAK6B,aAC7Df,KAAOY,EACPlB,QAAS,CACPC,OAAQ,mBACRC,cAAa,iBAAaV,EAAKW,UAEhCC,MAAK,SAAAkB,GACN1C,EAAS,2BAAID,GAAL,kBAAasC,GAAa,KAClCjC,GAAc,MACbuB,OAAM,SAAUC,GACjBC,QAAQC,IAAIF,MAMZe,CAASV,IA2BoClC,QAAOI,aAAYyC,SAvBtD,uCAAG,WAAOX,GAAP,iBAAAtB,EAAA,6DACfH,GAAO,GACDI,EAAOC,KAAKC,MAAMC,aAAaC,QAAQ,UACzC6B,EAAe,IAAIC,UACVC,IAAI,OAAQd,GAJV,SAKThB,IAAM,CACVsB,OAAS,OACTC,IAAG,UAAMrB,0CAAN,kBACHO,KAAMmB,EACNzB,QAAS,CACPC,OAAQ,mBACR,eAAgB,sBAChBC,cAAa,iBAAaV,EAAKW,UAEhCC,MAAK,SAAAkB,GACN5C,EAAQ,2BAAID,GAAL,IAAWD,KAAO8C,EAAIhB,KAAKxC,QAClCsB,GAAO,GACPF,EAAS,OACRqB,OAAM,SAAUC,GACjBtB,EAASsB,EAAMH,SAASC,KAAKE,UAnBhB,2CAAH,sDAuBgErB,MAAKF,UCrBtE2C,UA/DE,WACf,IAAMpC,EAAOC,KAAKC,MAAMC,aAAaC,QAAQ,SADxB,EAEsEhC,IAApFa,EAFc,EAEdA,KAAMmC,EAFQ,EAERA,WAAY/B,EAFJ,EAEIA,QAASkC,EAFb,EAEaA,aAAcpC,EAF3B,EAE2BA,MAAOI,EAFlC,EAEkCA,WAAYyC,EAF9C,EAE8CA,SAAUvC,EAFxD,EAEwDA,MAAOE,EAF/D,EAE+DA,IAEpF,OACE,kBAAC,IAAD,KAEmB,IAAfK,EAAKqC,MAAc,kBAAC,IAAD,CAAUC,GAAI,MAAS,KAE5C,kBAAC,IAAD,4BACuB,IAErB,yBAAKC,UAAU,oDACbhD,EAAa,8BAAgC,OAGjD,kBAAC,IAAD,KAEIF,EAAU,uBAAGkD,UAAU,eAAb,oBACR,kBAAC,WAAD,KACE,kBAAC,EAAD,CAAczE,MAAOqB,EAAMb,KAAMd,MAAO,gBAAiBC,KAAM,OAAQE,MAAOsB,EAAKX,KAAMT,WAAY0D,EAAc3D,SAAUwD,EAAY1D,YAAa,kBACtJ,kBAAC,EAAD,CAAcI,MAAOqB,EAAMZ,OAAQf,MAAO,kBAAmBC,KAAM,SAAUE,MAAOsB,EAAKV,OAAQV,WAAY0D,EAAe3D,SAAUwD,EAAY1D,YAAa,oBAC/J,kBAAC,EAAD,CAAcI,MAAOqB,EAAMX,KAAMhB,MAAO,gBAAiBC,KAAM,OAAQE,MAAOsB,EAAKT,KAAMX,WAAY0D,EAAe3D,SAAUwD,EAAY1D,YAAa,kBACvJ,kBAAC,EAAD,CAAcI,MAAOqB,EAAMV,OAAQjB,MAAO,kBAAmBC,KAAM,SAAUE,MAAOsB,EAAKR,OAAQZ,WAAY0D,EAAe3D,SAAUwD,EAAY1D,YAAa,oBAC/J,kBAAC,EAAD,CAAcI,MAAOqB,EAAMT,MAAOlB,MAAO,iBAAkBC,KAAM,QAASE,MAAOsB,EAAKP,MAAOb,WAAY0D,EAAe3D,SAAUwD,EAAY1D,YAAa,mBAC3J,kBAAC,EAAD,CAAcI,MAAOqB,EAAMR,QAASnB,MAAO,mBAAoBC,KAAM,UAAWE,MAAOsB,EAAKN,QAASd,WAAY0D,EAAe3D,SAAUwD,EAAY1D,YAAa,qBACnK,kBAAC,EAAD,CAAcI,MAAOqB,EAAMP,SAAUpB,MAAO,oBAAqBC,KAAM,WAAYE,MAAOsB,EAAKL,SAAUf,WAAY0D,EAAe3D,SAAUwD,EAAY1D,YAAa,sBACvK,kBAAC,EAAD,CAAcI,MAAOqB,EAAMN,WAAYrB,MAAO,sBAAuBC,KAAM,aAAcE,MAAOsB,EAAKJ,WAAYhB,WAAY0D,EAAe3D,SAAUwD,EAAY1D,YAAa,wBAC/K,kBAAC,EAAD,CAAcI,MAAOqB,EAAML,WAAYtB,MAAO,oBAAqBC,KAAM,aAAcE,MAAOsB,EAAKH,WAAYjB,WAAY0D,EAAe3D,SAAUwD,EAAY1D,YAAa,sBAC7K,kBAAC,KAAD,KACA,kBAAC,IAAD,CAAMK,GAAI,IACV,kBAAC,IAAD,CAAYC,KAAG,GACb,kBAAC,IAAD,CAAMD,GAAG,UACP,kBAAC,KAAD,CAAQE,QAAQ,cAAhB,kBAEF,kBAAC,IAAD,CAAMC,GAAG,KAAKH,GAAG,MACf,kBAAC,IAAD,CAAYyE,QAAS/C,EAAMV,KAAM0D,QAAM,EAACtE,GAAG,oBAC/BP,SAAU,SAACyD,GAAD,OAAOW,EAASX,EAAEC,OAAOoB,MAAM,KACzC5E,MAAO6B,EACPgD,QAAS,SAACC,GACRA,EAAMtB,OAAO3D,MAAQ,QAGnC,kBAAC,KAAD,CAAQM,QAAQ,oBAAoB4E,QAAQ,eACzC5D,EAAKF,KAAOE,EAAKF,KAAKtB,KAAqB,KAAdwB,EAAKD,KAAcC,EAAKD,KAAO,eAE9DS,EAAMV,KAAOU,EAAMV,KAAK+D,KAAI,SAACC,EAAMC,GAAP,OAC3B,kBAAC,KAAD,CAAkBxB,IAAKwB,GAAQD,MAE/B,kBAAC,KAAD","file":"static/js/55.114837d3.chunk.js","sourcesContent":["import React from 'react';\nimport {CCol, CFormGroup, CInput, CLabel, CRow, CValidFeedback} from \"@coreui/react\";\n\nconst FormAplikasiKomponent = ({label, name, placeholder, value, onChange, onKeyPress, valid}) => {\n  return (\n    <CRow>\n      <CCol md={12}>\n        <CFormGroup row>\n          <CCol md=\"2 mt-1\">\n            <CLabel htmlFor=\"text-input\">{label}</CLabel>\n          </CCol>\n          <CCol xs=\"12\" md=\"10\">\n            <CInput valid={valid} value={value} onChange={onChange} id={name} name={name} placeholder={placeholder} onKeyPress={onKeyPress} />\n            <CValidFeedback>Data Berhasil Diubah</CValidFeedback>\n          </CCol>\n        </CFormGroup>\n      </CCol>\n    </CRow>\n  );\n}\nconst FormAplikasi = React.memo(FormAplikasiKomponent);\nexport default FormAplikasi;\n","import {useState, useEffect, useCallback} from 'react'\nimport axios from 'axios';\n\nconst FormHelper = () => {\n\n  const [Form, SetForm] = useState({nama : '', alamat : '', kota : '', telpon : '', email : '', website : '', kode_pos : '', kode_surat : '', url_server : '', file : '', logo : ''});\n  const [Valid, SetValid] = useState({nama : null, alamat : null, kota : null, telpon : null, email : null, website : null, kode_pos : null, kode_surat : null, url_server : null});\n  const [Loading, SetLoading] = useState(true);\n  const [NotifEnter, SetNotifEnter] = useState(false);\n  const [Error, setError] = useState([]);\n  const [Suk, setSuk] = useState(false);\n\n  const HandleForm = (e) => {\n    SetForm({...Form, [e.target.name] : e.target.value});\n    SetValid({nama : null, alamat : null, kota : null, telpon : null, email : null, website : null, kode_pos : null, kode_surat : null, url_server : null});\n    SetNotifEnter(true);\n  };\n\n\n  const PanggilData = useCallback(async () => {\n    const User = JSON.parse(localStorage.getItem('user'));\n    await axios.get(`${process.env.REACT_APP_BASE_URL}/api/instansi`, {\n      headers: {\n        Accept: 'application/json',\n        Authorization: `Bearer ${User.token}`\n      }\n    }).then(response => {\n        SetForm(response.data)\n    }).catch(error => {\n        console.log(error);\n    });\n        SetLoading(false)\n  }, [])\n\n  useEffect( () => {\n    PanggilData()\n  },[PanggilData]);\n\n  const SaveData = (e) => {\n    const User = JSON.parse(localStorage.getItem('user'));\n    const NameField = e.target.name;\n    const FormUpdate = {\n      [NameField] : e.target.value\n    }\n    axios({\n      method : 'put',\n      url : `${process.env.REACT_APP_BASE_URL}/api/instansi/${User.instansi_id}`,\n      data : FormUpdate,\n      headers: {\n        Accept: 'application/json',\n        Authorization : `Bearer ${User.token}`,\n      }\n    }).then(res => {\n      SetValid({...Valid, [NameField] : true})\n      SetNotifEnter(false);\n    }).catch(function (error) {\n      console.log(error)\n    });\n  }\n\n  const CobaSaveData = (e) => {\n    if(e.key === 'Enter'){\n      SaveData(e)\n    }\n  }\n\n  const SaveFile = async (e) => {\n    setSuk(false);\n    const User = JSON.parse(localStorage.getItem('user'));\n    let bodyFormData = new FormData();\n    bodyFormData.set('file', e);\n    await axios({\n      method : 'post',\n      url : `${process.env.REACT_APP_BASE_URL}/api/ubah-logo`,\n      data: bodyFormData,\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'multipart/form-data',\n        Authorization : `Bearer ${User.token}`\n      }\n    }).then(res => {\n      SetForm({...Form, logo : res.data.nama})\n      setSuk(true);\n      setError([]);\n    }).catch(function (error) {\n      setError(error.response.data.error);\n    });\n  };\n\n  return {Form, HandleForm, Loading, CobaSaveData, Valid, NotifEnter, SaveFile, Suk, Error}\n}\n\nexport default FormHelper;\n","import React, {Fragment} from 'react';\nimport {CCard, CCardBody, CCardHeader, CCol, CRow, CFormGroup, CInputFile, CLabel, CInvalidFeedback, CValidFeedback} from \"@coreui/react\";\nimport FormAplikasi from \"./FormAplikasi\";\nimport {Redirect} from 'react-router-dom'\nimport FormHelper from \"./FormHelper\";\nconst Aplikasi = () => {\n  const User = JSON.parse(localStorage.getItem('user'));\n  const {Form, HandleForm, Loading, CobaSaveData, Valid, NotifEnter, SaveFile, Error, Suk} = FormHelper();\n  \n  return (\n    <CCard>\n      {\n        User.level === 2 ? <Redirect to={'/'}/> : null\n      }\n      <CCardHeader>\n        Konfigurasi Aplikasi{' '}\n\n        <div className=\"card-header-actions text-danger font-weight-bold\">\n         {NotifEnter ? 'Tekan Enter Untuk Menyimpan' : null}\n        </div>\n      </CCardHeader>\n      <CCardBody>\n        {\n          Loading ? <p className='text-center'>....Loading Data</p>:\n            <Fragment>\n              <FormAplikasi valid={Valid.nama} label={'Nama Instansi'} name={'nama'} value={Form.nama} onKeyPress={CobaSaveData} onChange={HandleForm} placeholder={'Nama Instansi'}/>\n              <FormAplikasi valid={Valid.alamat} label={'Alamat Instansi'} name={'alamat'} value={Form.alamat} onKeyPress={CobaSaveData}  onChange={HandleForm} placeholder={'Alamat Instansi'}/>\n              <FormAplikasi valid={Valid.kota} label={'Kota Instansi'} name={'kota'} value={Form.kota} onKeyPress={CobaSaveData}  onChange={HandleForm} placeholder={'Kota Instansi'}/>\n              <FormAplikasi valid={Valid.telpon} label={'Telpon Instansi'} name={'telpon'} value={Form.telpon} onKeyPress={CobaSaveData}  onChange={HandleForm} placeholder={'Telpon Instansi'}/>\n              <FormAplikasi valid={Valid.email} label={'Email Instansi'} name={'email'} value={Form.email} onKeyPress={CobaSaveData}  onChange={HandleForm} placeholder={'Email Instansi'}/>\n              <FormAplikasi valid={Valid.website} label={'Website Instansi'} name={'website'} value={Form.website} onKeyPress={CobaSaveData}  onChange={HandleForm} placeholder={'Website Instansi'}/>\n              <FormAplikasi valid={Valid.kode_pos} label={'Kode Pos Instansi'} name={'kode_pos'} value={Form.kode_pos} onKeyPress={CobaSaveData}  onChange={HandleForm} placeholder={'Kode Pos Instansi'}/>\n              <FormAplikasi valid={Valid.kode_surat} label={'Kode Surat Instansi'} name={'kode_surat'} value={Form.kode_surat} onKeyPress={CobaSaveData}  onChange={HandleForm} placeholder={'Kode Surat Instansi'}/>\n              <FormAplikasi valid={Valid.url_server} label={'Link Upload Surat'} name={'url_server'} value={Form.url_server} onKeyPress={CobaSaveData}  onChange={HandleForm} placeholder={'Link Upload Surat'}/>\n              <CRow>\n              <CCol md={12}>\n              <CFormGroup row>\n                <CCol md=\"2 mt-1\">\n                  <CLabel htmlFor=\"text-input\">Logo Instansi</CLabel>\n                </CCol>\n                <CCol xs=\"12\" md=\"10\">\n                  <CInputFile invalid={Error.file} custom id=\"custom-file-input\"\n                              onChange={(e) => SaveFile(e.target.files[0])}\n                              valid={Suk}\n                              onClick={(event)=> {\n                                event.target.value = null\n                              }}\n                  />\n                  <CLabel htmlFor=\"custom-file-input\" variant=\"custom-file\">\n                    {Form.file ? Form.file.name : Form.logo !== '' ? Form.logo : 'Upload Logo'}\n                  </CLabel>\n                  {Error.file ? Error.file.map((list, index)=>\n                    <CInvalidFeedback key={index}>{list}</CInvalidFeedback>\n                  ) : \n                    <CValidFeedback>Sukses (Logout dan Login untuk mengganti logo profile)</CValidFeedback>\n                  }\n                  </CCol>\n              </CFormGroup>\n              </CCol>\n              </CRow>\n            \n            </Fragment>\n        }\n      </CCardBody>\n    </CCard>\n  )\n};\n\nexport default Aplikasi;\n"],"sourceRoot":""}