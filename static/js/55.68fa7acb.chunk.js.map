{"version":3,"sources":["views/konfigurasi/aplikasi/FormAplikasi.js","views/konfigurasi/aplikasi/FormHelper.js","views/konfigurasi/aplikasi/Aplikasi.js"],"names":["FormAplikasi","React","memo","label","name","placeholder","value","onChange","onKeyPress","valid","md","row","htmlFor","xs","id","FormHelper","useState","token","nama","alamat","kota","telpon","email","website","kode_pos","kode_surat","url_server","file","logo","Form","SetForm","Valid","SetValid","Loading","SetLoading","NotifEnter","SetNotifEnter","Error","setError","Suk","setSuk","PanggilData","useCallback","a","User","JSON","parse","localStorage","getItem","axios","get","process","headers","Accept","Authorization","then","response","data","catch","error","console","log","useEffect","HandleForm","e","target","CobaSaveData","key","NameField","FormUpdate","method","url","instansi_id","res","SaveData","SaveFile","bodyFormData","FormData","set","GetToken","Aplikasi","level","to","className","onClick","color","variant","size","href","style","readOnly","invalid","custom","files","event","map","list","index"],"mappings":"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","file":"static/js/55.68fa7acb.chunk.js","sourcesContent":["import React from 'react';\nimport {CCol, CFormGroup, CInput, CLabel, CRow, CValidFeedback} from \"@coreui/react\";\n\nconst FormAplikasiKomponent = ({label, name, placeholder, value, onChange, onKeyPress, valid}) => {\n  return (\n    <CRow>\n      <CCol md={12}>\n        <CFormGroup row>\n          <CCol md=\"2 mt-1\">\n            <CLabel htmlFor=\"text-input\">{label}</CLabel>\n          </CCol>\n          <CCol xs=\"12\" md=\"10\">\n            <CInput valid={valid} value={value} onChange={onChange} id={name} name={name} placeholder={placeholder} onKeyPress={onKeyPress} />\n            <CValidFeedback>Data Berhasil Diubah</CValidFeedback>\n          </CCol>\n        </CFormGroup>\n      </CCol>\n    </CRow>\n  );\n}\nconst FormAplikasi = React.memo(FormAplikasiKomponent);\nexport default FormAplikasi;\n","import {useState, useEffect, useCallback} from 'react'\nimport axios from 'axios';\n\nconst FormHelper = () => {\n\n  const [Form, SetForm] = useState({token : '',nama : '', alamat : '', kota : '', telpon : '', email : '', website : '', kode_pos : '', kode_surat : '', url_server : '', file : '', logo : ''});\n  const [Valid, SetValid] = useState({token : null, nama : null, alamat : null, kota : null, telpon : null, email : null, website : null, kode_pos : null, kode_surat : null, url_server : null});\n  const [Loading, SetLoading] = useState(true);\n  const [NotifEnter, SetNotifEnter] = useState(false);\n  const [Error, setError] = useState([]);\n  const [Suk, setSuk] = useState(false);\n\n  const HandleForm = (e) => {\n    SetForm({...Form, [e.target.name] : e.target.value});\n    SetValid({nama : null, alamat : null, kota : null, telpon : null, email : null, website : null, kode_pos : null, kode_surat : null, url_server : null});\n    SetNotifEnter(true);\n  };\n\n\n  const PanggilData = useCallback(async () => {\n    const User = JSON.parse(localStorage.getItem('user'));\n    await axios.get(`${process.env.REACT_APP_BASE_URL}/api/instansi`, {\n      headers: {\n        Accept: 'application/json',\n        Authorization: `Bearer ${User.token}`\n      }\n    }).then(response => {\n        SetForm(response.data)\n    }).catch(error => {\n        console.log(error);\n    });\n        SetLoading(false)\n  }, [])\n\n\n\n  useEffect( () => {\n    PanggilData()\n  },[PanggilData]);\n\n  const SaveData = (e) => {\n    const User = JSON.parse(localStorage.getItem('user'));\n    const NameField = e.target.name;\n    const FormUpdate = {\n      [NameField] : e.target.value\n    }\n    axios({\n      method : 'put',\n      url : `${process.env.REACT_APP_BASE_URL}/api/instansi/${User.instansi_id}`,\n      data : FormUpdate,\n      headers: {\n        Accept: 'application/json',\n        Authorization : `Bearer ${User.token}`,\n      }\n    }).then(res => {\n      SetValid({...Valid, [NameField] : true})\n      SetNotifEnter(false);\n    }).catch(function (error) {\n      console.log(error)\n    });\n  }\n\n  const CobaSaveData = (e) => {\n    if(e.key === 'Enter'){\n      SaveData(e)\n    }\n  }\n\n  const SaveFile = async (e) => {\n    setSuk(false);\n    const User = JSON.parse(localStorage.getItem('user'));\n    let bodyFormData = new FormData();\n    bodyFormData.set('file', e);\n    await axios({\n      method : 'post',\n      url : `${process.env.REACT_APP_BASE_URL}/api/ubah-logo`,\n      data: bodyFormData,\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'multipart/form-data',\n        Authorization : `Bearer ${User.token}`\n      }\n    }).then(res => {\n      SetForm({...Form, logo : res.data.nama})\n      setSuk(true);\n      setError([]);\n    }).catch(function (error) {\n      setError(error.response.data.error);\n    });\n  };\n\n  const GetToken = async () => {\n    const User = JSON.parse(localStorage.getItem('user'));\n    await axios.get(`${process.env.REACT_APP_BASE_URL}/api/get-token`, {\n      headers: {\n        Accept: 'application/json',\n        Authorization: `Bearer ${User.token}`\n      }\n    }).then(response => {\n        SetForm({...Form, token : response.data})\n    }).catch(error => {\n        console.log(error);\n    });\n  }\n\n  return {Form, HandleForm, Loading, CobaSaveData, Valid, NotifEnter, SaveFile, Suk, Error, GetToken}\n}\n\nexport default FormHelper;\n","import React, {Fragment} from 'react';\nimport {CCard, CCardBody, CCardHeader, CCol, CRow, CFormGroup, CInput, CInputFile, CLabel, CInvalidFeedback, CValidFeedback, CButton} from \"@coreui/react\";\n\nimport FormAplikasi from \"./FormAplikasi\";\nimport {Redirect} from 'react-router-dom'\nimport FormHelper from \"./FormHelper\";\nconst Aplikasi = () => {\n  const User = JSON.parse(localStorage.getItem('user'));\n  const {Form, HandleForm, Loading, CobaSaveData, Valid, NotifEnter, SaveFile, Error, Suk, GetToken} = FormHelper();\n  \n  return (\n    <CCard>\n      {\n        User.level === 2 ? <Redirect to={'/'}/> : null\n      }\n      <CCardHeader>\n        Konfigurasi Aplikasi{' '}\n\n        <div className=\"card-header-actions text-danger font-weight-bold\">\n         {NotifEnter ? 'Tekan Enter Untuk Menyimpan' : null}\n         <CButton onClick={GetToken} color='primary' variant='outline' size='sm'>Dapatkan Token</CButton>\n         <a href={'https://drive.google.com/file/d/1REZKLRj6u91nLbBjeOCsZPP5CoHi3l6V/view?usp=sharing'} className={'ml-2 btn btn-success btn-sm'} style={{color : 'white'}}>Folder Upload</a>\n        </div>\n      </CCardHeader>\n      <CCardBody>\n        {\n          Loading ? <p className='text-center'>....Loading Data</p>:\n            <Fragment>\n              \n              <FormAplikasi valid={Valid.nama} label={'Nama Instansi'} name={'nama'} value={Form.nama} onKeyPress={CobaSaveData} onChange={HandleForm} placeholder={'Nama Instansi'}/>\n              <FormAplikasi valid={Valid.alamat} label={'Alamat Instansi'} name={'alamat'} value={Form.alamat} onKeyPress={CobaSaveData}  onChange={HandleForm} placeholder={'Alamat Instansi'}/>\n              <FormAplikasi valid={Valid.kota} label={'Kota Instansi'} name={'kota'} value={Form.kota} onKeyPress={CobaSaveData}  onChange={HandleForm} placeholder={'Kota Instansi'}/>\n              <FormAplikasi valid={Valid.telpon} label={'Telpon Instansi'} name={'telpon'} value={Form.telpon} onKeyPress={CobaSaveData}  onChange={HandleForm} placeholder={'Telpon Instansi'}/>\n              <FormAplikasi valid={Valid.email} label={'Email Instansi'} name={'email'} value={Form.email} onKeyPress={CobaSaveData}  onChange={HandleForm} placeholder={'Email Instansi'}/>\n              <FormAplikasi valid={Valid.website} label={'Website Instansi'} name={'website'} value={Form.website} onKeyPress={CobaSaveData}  onChange={HandleForm} placeholder={'Website Instansi'}/>\n              <FormAplikasi valid={Valid.kode_pos} label={'Kode Pos Instansi'} name={'kode_pos'} value={Form.kode_pos} onKeyPress={CobaSaveData}  onChange={HandleForm} placeholder={'Kode Pos Instansi'}/>\n              <FormAplikasi valid={Valid.kode_surat} label={'Kode Surat Instansi'} name={'kode_surat'} value={Form.kode_surat} onKeyPress={CobaSaveData}  onChange={HandleForm} placeholder={'Kode Surat Instansi'}/>\n              <FormAplikasi valid={Valid.url_server} label={'Link Upload Surat'} name={'url_server'} value={Form.url_server} onKeyPress={CobaSaveData}  onChange={HandleForm} placeholder={'Link Upload Surat'}/>\n              <CRow>\n                <CCol md={12}>\n                  <CFormGroup row>\n                    <CCol md=\"2 mt-1\">\n                      <CLabel htmlFor=\"text-input\">Token Upload Surat</CLabel>\n                    </CCol>\n                    <CCol xs=\"12\" md=\"10\">\n                      <CInput readOnly value={Form.token} />\n                      <CValidFeedback>Data Berhasil Diubah</CValidFeedback>\n                    </CCol>\n                  </CFormGroup>\n                </CCol>\n              </CRow>\n              \n              <CRow>\n              <CCol md={12}>\n              <CFormGroup row>\n                <CCol md=\"2 mt-1\">\n                  <CLabel htmlFor=\"text-input\">Logo Instansi</CLabel>\n                </CCol>\n                <CCol xs=\"12\" md=\"10\">\n                  <CInputFile invalid={Error.file} custom id=\"custom-file-input\"\n                              onChange={(e) => SaveFile(e.target.files[0])}\n                              valid={Suk}\n                              onClick={(event)=> {\n                                event.target.value = null\n                              }}\n                  />\n                  <CLabel htmlFor=\"custom-file-input\" variant=\"custom-file\">\n                    {Form.file ? Form.file.name : Form.logo !== '' ? Form.logo : 'Upload Logo'}\n                  </CLabel>\n                  {Error.file ? Error.file.map((list, index)=>\n                    <CInvalidFeedback key={index}>{list}</CInvalidFeedback>\n                  ) : \n                    <CValidFeedback>Sukses (Logout dan Login untuk mengganti logo profile)</CValidFeedback>\n                  }\n                  </CCol>\n              </CFormGroup>\n              </CCol>\n              </CRow>\n            \n            </Fragment>\n        }\n      </CCardBody>\n    </CCard>\n  )\n};\n\nexport default Aplikasi;\n"],"sourceRoot":""}