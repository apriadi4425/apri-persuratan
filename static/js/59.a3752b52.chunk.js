(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[59],{921:function(e,a,t){"use strict";t.r(a);var n=t(1),l=t.n(n),r=t(19),c=t(156),o=t(616),s=t(625),i=t(105),m=t(618),u=t(620),p=t.n(u),d=function(e){var a=Object(n.useState)({email:"",password:""}),t=Object(m.a)(a,2),l=t[0],r=t[1],c=Object(n.useState)([]),o=Object(m.a)(c,2),s=o[0],u=o[1],d=Object(n.useState)(!1),E=Object(m.a)(d,2),g=E[0],b=E[1];return{CobaLogin:Object(n.useCallback)((function(){b(!0),p()({method:"post",url:"".concat("http://localhost/persuratan2/api/public","/api/login"),data:l,config:{headers:{Accept:"application/json"}}}).then((function(a){localStorage.setItem("login",!0),localStorage.setItem("user",JSON.stringify(a.data.success)),localStorage.setItem("instansi",JSON.stringify(a.data.instansi)),e.push("/")})).catch((function(e){e.response&&u(e.response.data),b(!1)}))}),[l,e]),Form:l,HandleForm:function(e,a){u([]),r("email"===a?Object(i.a)(Object(i.a)({},l),{},{email:e.target.value}):Object(i.a)(Object(i.a)({},l),{},{password:e.target.value}))},Error:s,SetError:u,Loading:g}},E=l.a.memo((function(e){var a=e.history,t=d(a),n=t.CobaLogin,r=t.Form,c=t.HandleForm,i=t.Error,m=t.Loading;return l.a.createElement(o.J,null,l.a.createElement("h1",null,"Login"),i.error?l.a.createElement("p",{className:"text-danger font-weight-bold"},i.error):l.a.createElement("p",{className:"text-muted"},"Sign In to your account"),l.a.createElement(o.V,{className:"mb-3"},l.a.createElement(o.X,null,l.a.createElement(o.Y,null,l.a.createElement(s.a,{name:"cil-user"}))),l.a.createElement(o.S,{type:"email",invalid:i.error,value:r.email,onChange:function(e){return c(e,"email")},placeholder:"Email",autoComplete:"email"})),l.a.createElement(o.V,{className:"mb-4"},l.a.createElement(o.X,null,l.a.createElement(o.Y,null,l.a.createElement(s.a,{name:"cil-lock-locked"}))),l.a.createElement(o.S,{type:"password",invalid:i.error,value:r.password,onChange:function(e){return c(e,"password")},placeholder:"Password",autoComplete:"current-password"})),l.a.createElement(o.wb,null,l.a.createElement(o.u,{xs:"6"},l.a.createElement(o.f,{onClick:n,disabled:m,color:"primary",className:"px-4"},m?"...Loading":"Login")),l.a.createElement(o.u,{xs:"6",className:"text-right"},l.a.createElement(o.f,{color:"link",className:"px-0"},"Forgot password?"))))})),g=Object(r.j)(E);a.default=function(){return l.a.createElement("div",{className:"c-app c-default-layout flex-row align-items-center"},localStorage.getItem("login")?l.a.createElement(r.a,{to:"/"}):null,l.a.createElement(o.w,null,l.a.createElement(o.wb,{className:"justify-content-center"},l.a.createElement(o.u,{md:"8"},l.a.createElement(o.m,null,l.a.createElement(o.j,{className:"p-4"},l.a.createElement(o.k,null,l.a.createElement(g,null))),l.a.createElement(o.j,{className:"text-white bg-primary py-5 d-md-down-none",style:{width:"44%"}},l.a.createElement(o.k,{className:"text-center"},l.a.createElement("div",null,l.a.createElement("h2",null,"Sign up"),l.a.createElement("p",null,"Aplikasi tata persuratan dengan menggunakan disposisi melalui Aplikasi berbasis Android yang dapat didownload di playstore"),l.a.createElement(c.b,{to:"/register"},l.a.createElement(o.f,{color:"primary",className:"mt-3",active:!0,tabIndex:-1},"Daftar Sekarang!"))))))))))}}}]);
//# sourceMappingURL=59.a3752b52.chunk.js.map