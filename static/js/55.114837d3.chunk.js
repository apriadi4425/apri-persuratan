(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[55],{867:function(e,a,t){"use strict";t.r(a);var n=t(1),l=t.n(n),o=t(616),r=l.a.memo((function(e){var a=e.label,t=e.name,n=e.placeholder,r=e.value,c=e.onChange,s=e.onKeyPress,i=e.valid;return l.a.createElement(o.wb,null,l.a.createElement(o.u,{md:12},l.a.createElement(o.K,{row:!0},l.a.createElement(o.u,{md:"2 mt-1"},l.a.createElement(o.cb,{htmlFor:"text-input"},a)),l.a.createElement(o.u,{xs:"12",md:"10"},l.a.createElement(o.S,{valid:i,value:r,onChange:c,id:t,name:t,placeholder:n,onKeyPress:s}),l.a.createElement(o.Sb,null,"Data Berhasil Diubah")))))})),c=t(19),s=t(622),i=t.n(s),u=t(623),m=t(157),p=t(105),d=t(618),b=t(620),h=t.n(b),v=function(){var e=Object(n.useState)({nama:"",alamat:"",kota:"",telpon:"",email:"",website:"",kode_pos:"",kode_surat:"",url_server:"",file:"",logo:""}),a=Object(d.a)(e,2),t=a[0],l=a[1],o=Object(n.useState)({nama:null,alamat:null,kota:null,telpon:null,email:null,website:null,kode_pos:null,kode_surat:null,url_server:null}),r=Object(d.a)(o,2),c=r[0],s=r[1],b=Object(n.useState)(!0),v=Object(d.a)(b,2),g=v[0],f=v[1],E=Object(n.useState)(!1),k=Object(d.a)(E,2),j=k[0],O=k[1],S=Object(n.useState)([]),I=Object(d.a)(S,2),K=I[0],_=I[1],w=Object(n.useState)(!1),C=Object(d.a)(w,2),y=C[0],P=C[1],F=Object(n.useCallback)(Object(u.a)(i.a.mark((function e(){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=JSON.parse(localStorage.getItem("user")),e.next=3,h.a.get("".concat("http://localhost/persuratan2/api/public","/api/instansi"),{headers:{Accept:"application/json",Authorization:"Bearer ".concat(a.token)}}).then((function(e){l(e.data)})).catch((function(e){console.log(e)}));case 3:f(!1);case 4:case"end":return e.stop()}}),e)}))),[]);Object(n.useEffect)((function(){F()}),[F]);return{Form:t,HandleForm:function(e){l(Object(p.a)(Object(p.a)({},t),{},Object(m.a)({},e.target.name,e.target.value))),s({nama:null,alamat:null,kota:null,telpon:null,email:null,website:null,kode_pos:null,kode_surat:null,url_server:null}),O(!0)},Loading:g,CobaSaveData:function(e){"Enter"===e.key&&function(e){var a=JSON.parse(localStorage.getItem("user")),t=e.target.name,n=Object(m.a)({},t,e.target.value);h()({method:"put",url:"".concat("http://localhost/persuratan2/api/public","/api/instansi/").concat(a.instansi_id),data:n,headers:{Accept:"application/json",Authorization:"Bearer ".concat(a.token)}}).then((function(e){s(Object(p.a)(Object(p.a)({},c),{},Object(m.a)({},t,!0))),O(!1)})).catch((function(e){console.log(e)}))}(e)},Valid:c,NotifEnter:j,SaveFile:function(){var e=Object(u.a)(i.a.mark((function e(a){var n,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(!1),n=JSON.parse(localStorage.getItem("user")),(o=new FormData).set("file",a),e.next=6,h()({method:"post",url:"".concat("http://localhost/persuratan2/api/public","/api/ubah-logo"),data:o,headers:{Accept:"application/json","Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(n.token)}}).then((function(e){l(Object(p.a)(Object(p.a)({},t),{},{logo:e.data.nama})),P(!0),_([])})).catch((function(e){_(e.response.data.error)}));case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),Suk:y,Error:K}};a.default=function(){var e=JSON.parse(localStorage.getItem("user")),a=v(),t=a.Form,s=a.HandleForm,i=a.Loading,u=a.CobaSaveData,m=a.Valid,p=a.NotifEnter,d=a.SaveFile,b=a.Error,h=a.Suk;return l.a.createElement(o.j,null,2===e.level?l.a.createElement(c.a,{to:"/"}):null,l.a.createElement(o.n,null,"Konfigurasi Aplikasi"," ",l.a.createElement("div",{className:"card-header-actions text-danger font-weight-bold"},p?"Tekan Enter Untuk Menyimpan":null)),l.a.createElement(o.k,null,i?l.a.createElement("p",{className:"text-center"},"....Loading Data"):l.a.createElement(n.Fragment,null,l.a.createElement(r,{valid:m.nama,label:"Nama Instansi",name:"nama",value:t.nama,onKeyPress:u,onChange:s,placeholder:"Nama Instansi"}),l.a.createElement(r,{valid:m.alamat,label:"Alamat Instansi",name:"alamat",value:t.alamat,onKeyPress:u,onChange:s,placeholder:"Alamat Instansi"}),l.a.createElement(r,{valid:m.kota,label:"Kota Instansi",name:"kota",value:t.kota,onKeyPress:u,onChange:s,placeholder:"Kota Instansi"}),l.a.createElement(r,{valid:m.telpon,label:"Telpon Instansi",name:"telpon",value:t.telpon,onKeyPress:u,onChange:s,placeholder:"Telpon Instansi"}),l.a.createElement(r,{valid:m.email,label:"Email Instansi",name:"email",value:t.email,onKeyPress:u,onChange:s,placeholder:"Email Instansi"}),l.a.createElement(r,{valid:m.website,label:"Website Instansi",name:"website",value:t.website,onKeyPress:u,onChange:s,placeholder:"Website Instansi"}),l.a.createElement(r,{valid:m.kode_pos,label:"Kode Pos Instansi",name:"kode_pos",value:t.kode_pos,onKeyPress:u,onChange:s,placeholder:"Kode Pos Instansi"}),l.a.createElement(r,{valid:m.kode_surat,label:"Kode Surat Instansi",name:"kode_surat",value:t.kode_surat,onKeyPress:u,onChange:s,placeholder:"Kode Surat Instansi"}),l.a.createElement(r,{valid:m.url_server,label:"Link Upload Surat",name:"url_server",value:t.url_server,onKeyPress:u,onChange:s,placeholder:"Link Upload Surat"}),l.a.createElement(o.wb,null,l.a.createElement(o.u,{md:12},l.a.createElement(o.K,{row:!0},l.a.createElement(o.u,{md:"2 mt-1"},l.a.createElement(o.cb,{htmlFor:"text-input"},"Logo Instansi")),l.a.createElement(o.u,{xs:"12",md:"10"},l.a.createElement(o.U,{invalid:b.file,custom:!0,id:"custom-file-input",onChange:function(e){return d(e.target.files[0])},valid:h,onClick:function(e){e.target.value=null}}),l.a.createElement(o.cb,{htmlFor:"custom-file-input",variant:"custom-file"},t.file?t.file.name:""!==t.logo?t.logo:"Upload Logo"),b.file?b.file.map((function(e,a){return l.a.createElement(o.ab,{key:a},e)})):l.a.createElement(o.Sb,null,"Sukses (Logout dan Login untuk mengganti logo profile)"))))))))}}}]);
//# sourceMappingURL=55.114837d3.chunk.js.map