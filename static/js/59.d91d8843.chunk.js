(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[59],{921:function(e,a,t){"use strict";t.r(a);var n=t(1),l=t.n(n),r=t(19),c=t(156),o=t(616),i=t(625),s=t(105),m=t(618),u=t(620),d=t.n(u),p=function(e){var a=Object(n.useState)({email:"",password:""}),t=Object(m.a)(a,2),l=t[0],r=t[1],c=Object(n.useState)([]),o=Object(m.a)(c,2),i=o[0],u=o[1],p=Object(n.useState)(!1),g=Object(m.a)(p,2),E=g[0],b=g[1];return{CobaLogin:Object(n.useCallback)((function(){b(!0),d()({method:"post",url:"".concat("https://api-surat.pta-banjarmasin.go.id/public","/api/login"),data:l,config:{headers:{Accept:"application/json"}}}).then((function(a){localStorage.setItem("login",!0),localStorage.setItem("user",JSON.stringify(a.data.success)),localStorage.setItem("instansi",JSON.stringify(a.data.instansi)),e.push("/")})).catch((function(e){e.response&&u(e.response.data),b(!1)}))}),[l,e]),Form:l,HandleForm:function(e,a){u([]),r("email"===a?Object(s.a)(Object(s.a)({},l),{},{email:e.target.value}):Object(s.a)(Object(s.a)({},l),{},{password:e.target.value}))},Error:i,SetError:u,Loading:E}},g=l.a.memo((function(e){var a=e.history,t=p(a),n=t.CobaLogin,r=t.Form,c=t.HandleForm,s=t.Error,m=t.Loading;return l.a.createElement(o.J,null,l.a.createElement("h1",null,"Login"),s.error?l.a.createElement("p",{className:"text-danger font-weight-bold"},s.error):l.a.createElement("p",{className:"text-muted"},"Sign In to your account"),l.a.createElement(o.V,{className:"mb-3"},l.a.createElement(o.X,null,l.a.createElement(o.Y,null,l.a.createElement(i.a,{name:"cil-user"}))),l.a.createElement(o.S,{type:"email",invalid:s.error,value:r.email,onChange:function(e){return c(e,"email")},placeholder:"Email",autoComplete:"email"})),l.a.createElement(o.V,{className:"mb-4"},l.a.createElement(o.X,null,l.a.createElement(o.Y,null,l.a.createElement(i.a,{name:"cil-lock-locked"}))),l.a.createElement(o.S,{type:"password",invalid:s.error,value:r.password,onChange:function(e){return c(e,"password")},placeholder:"Password",autoComplete:"current-password"})),l.a.createElement(o.wb,null,l.a.createElement(o.u,{xs:"6"},l.a.createElement(o.f,{onClick:n,disabled:m,color:"primary",className:"px-4"},m?"...Loading":"Login")),l.a.createElement(o.u,{xs:"6",className:"text-right"},l.a.createElement("a",{href:"https://drive.google.com/file/d/10IGdEoAIGUScTlDGD6XAGTJrpnp5BQXc/view?usp=sharing",style:{marginTop:5}},"Download APK"))))})),E=Object(r.j)(g);a.default=function(){return l.a.createElement("div",{className:"c-app c-default-layout flex-row align-items-center"},localStorage.getItem("login")?l.a.createElement(r.a,{to:"/"}):null,l.a.createElement(o.w,null,l.a.createElement(o.wb,{className:"justify-content-center"},l.a.createElement(o.u,{md:"8"},l.a.createElement(o.m,null,l.a.createElement(o.j,{className:"p-4"},l.a.createElement(o.k,null,l.a.createElement(E,null))),l.a.createElement(o.j,{className:"text-white bg-primary py-5 d-md-down-none",style:{width:"44%"}},l.a.createElement(o.k,{className:"text-center"},l.a.createElement("div",null,l.a.createElement("h2",null,"Sign up"),l.a.createElement("p",null,"Aplikasi tata persuratan dengan menggunakan disposisi melalui Aplikasi berbasis Android yang dapat didownload di playstore"),l.a.createElement(c.b,{to:"/register"},l.a.createElement(o.f,{color:"primary",className:"mt-3",active:!0,tabIndex:-1},"Daftar Sekarang!"))))))))))}}}]);
//# sourceMappingURL=59.d91d8843.chunk.js.map