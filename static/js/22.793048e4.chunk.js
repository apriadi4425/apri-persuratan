(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[22],{647:function(e,a,t){"use strict";t.d(a,"a",(function(){return d})),t.d(a,"b",(function(){return p}));var n=t(622),r=t.n(n),o=t(623),l=t(618),i=t(1),s=t.n(i),c=t(652),m=t(620),u=t.n(m),d=Object(i.createContext)(),p=function(e){var a=e.children,t=JSON.parse(localStorage.getItem("user")),n=Object(i.useState)(0),m=Object(l.a)(n,2),p=m[0],b=m[1],h=Object(i.useState)(0),f=Object(l.a)(h,2),g=f[0],v=f[1],E=Object(i.useState)([]),N=Object(l.a)(E,2),k=N[0],S=N[1],y=Object(i.useState)(!1),C=Object(l.a)(y,2),z=C[0],x=C[1],_=Object(i.useCallback)(Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u.a.get("".concat("http://surat3.pa-kotabaru.go.id/public","/api/notif"),{headers:{Accept:"application/json",Authorization:"Bearer ".concat(t.token)}}).then((function(e){v(e.data.jumlah),S(e.data.data)})).catch((function(e){console.log(e)})),x(!1);case 2:case"end":return e.stop()}}),e)}))),[]),w=function(){var e=Object(o.a)(r.a.mark((function e(a,n){var o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={token:a,disposisi_id:n.disposisi_id,urgensi:n.urgensi},e.next=3,u()({method:"post",url:"".concat("http://surat3.pa-kotabaru.go.id/public","/api/kirim-notif"),data:o,headers:{Accept:"application/json",Authorization:"Bearer ".concat(t.token)}}).then((function(e){console.log("sukses")})).catch((function(e){console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}();Object(i.useEffect)((function(){(x(!0),c.a.database().ref("/notifikasi/".concat(t.instansi_id,"/").concat(t.id,"/disposisi")).on("value",(function(e){b(e.val()),1!==t.level&&x(!1)})),1===t.level)&&c.a.database().ref("/notifikasi/".concat(t.instansi_id,"/").concat(t.id,"/notif")).on("value",(function(e){_()}))}),[]);var D={Notifikasi:p,Load:z,Notifikasi2:g,DataNotifikasi2:k,KirimNotif:w,GetNotif:_};return s.a.createElement(d.Provider,{value:D},a)}},652:function(e,a,t){"use strict";var n=t(776),r=t.n(n);t(777);r.a.initializeApp({apiKey:"AIzaSyDmhR71WzM2FGiULAvMi_dhugNWAJrYIMI",authDomain:"persuratan-93ace.firebaseapp.com",databaseURL:"https://persuratan-93ace.firebaseio.com",projectId:"persuratan-93ace",storageBucket:"persuratan-93ace.appspot.com",messagingSenderId:"261012112616",appId:"1:261012112616:web:4d987b7f4337d10563755d",measurementId:"G-C1VE27QPN0"}),a.a=r.a},707:function(e,a,t){"use strict";var n=t(1),r=t.n(n),o=r.a.lazy((function(){return t.e(55).then(t.bind(null,867))})),l=r.a.lazy((function(){return Promise.all([t.e(3),t.e(20)]).then(t.bind(null,861))})),i=r.a.lazy((function(){return Promise.all([t.e(0),t.e(1),t.e(3),t.e(2),t.e(13)]).then(t.bind(null,860))})),s=r.a.lazy((function(){return Promise.all([t.e(0),t.e(1),t.e(2),t.e(8),t.e(15)]).then(t.bind(null,871))})),c=r.a.lazy((function(){return Promise.all([t.e(0),t.e(1),t.e(3),t.e(2),t.e(14)]).then(t.bind(null,868))})),m=r.a.lazy((function(){return Promise.all([t.e(0),t.e(1),t.e(2),t.e(8),t.e(17)]).then(t.bind(null,864))})),u=r.a.lazy((function(){return Promise.all([t.e(0),t.e(1),t.e(21)]).then(t.bind(null,872))})),d=r.a.lazy((function(){return Promise.all([t.e(0),t.e(1),t.e(3),t.e(2),t.e(12)]).then(t.bind(null,862))})),p=r.a.lazy((function(){return Promise.all([t.e(0),t.e(3),t.e(24)]).then(t.bind(null,863))})),b=r.a.lazy((function(){return Promise.all([t.e(0),t.e(1),t.e(2),t.e(30)]).then(t.bind(null,865))})),h=r.a.lazy((function(){return Promise.all([t.e(0),t.e(1),t.e(31)]).then(t.bind(null,869))})),f=r.a.lazy((function(){return t.e(25).then(t.bind(null,828))})),g=r.a.lazy((function(){return t.e(26).then(t.bind(null,829))})),v=r.a.lazy((function(){return t.e(34).then(t.bind(null,830))})),E=r.a.lazy((function(){return t.e(35).then(t.bind(null,831))})),N=r.a.lazy((function(){return t.e(36).then(t.bind(null,832))})),k=r.a.lazy((function(){return t.e(37).then(t.bind(null,833))})),S=r.a.lazy((function(){return t.e(38).then(t.bind(null,834))})),y=r.a.lazy((function(){return t.e(39).then(t.bind(null,835))})),C=r.a.lazy((function(){return t.e(40).then(t.bind(null,836))})),z=r.a.lazy((function(){return t.e(41).then(t.bind(null,837))})),x=r.a.lazy((function(){return t.e(42).then(t.bind(null,838))})),_=r.a.lazy((function(){return t.e(43).then(t.bind(null,839))})),w=r.a.lazy((function(){return t.e(44).then(t.bind(null,840))})),D=r.a.lazy((function(){return t.e(45).then(t.bind(null,841))})),I=r.a.lazy((function(){return t.e(46).then(t.bind(null,842))})),P=r.a.lazy((function(){return t.e(47).then(t.bind(null,843))})),j=r.a.lazy((function(){return t.e(48).then(t.bind(null,844))})),O=r.a.lazy((function(){return t.e(49).then(t.bind(null,845))})),K=r.a.lazy((function(){return t.e(50).then(t.bind(null,846))})),A=r.a.lazy((function(){return t.e(51).then(t.bind(null,847))})),B=r.a.lazy((function(){return t.e(52).then(t.bind(null,848))})),T=r.a.lazy((function(){return Promise.all([t.e(6),t.e(53)]).then(t.bind(null,849))})),M=r.a.lazy((function(){return Promise.all([t.e(6),t.e(27)]).then(t.bind(null,866))})),L=r.a.lazy((function(){return Promise.all([t.e(7),t.e(65),t.e(28)]).then(t.bind(null,851))})),U=r.a.lazy((function(){return Promise.all([t.e(7),t.e(64),t.e(29)]).then(t.bind(null,852))})),J=r.a.lazy((function(){return Promise.all([t.e(7),t.e(54)]).then(t.bind(null,684))})),R=r.a.lazy((function(){return t.e(56).then(t.bind(null,853))})),G=r.a.lazy((function(){return t.e(57).then(t.bind(null,854))})),q=r.a.lazy((function(){return t.e(58).then(t.bind(null,855))})),Q=r.a.lazy((function(){return t.e(62).then(t.bind(null,873))})),H=[{path:"/",exact:!0,name:"Home"},{path:"/dashboard",name:"Dashboard",component:M},{path:"/master-data",name:"Master Data",exact:!0},{path:"/master-data/surat-masuk",name:"Surat Masuk",component:i,exact:!0},{path:"/master-data/surat-masuk/:slug",name:"Detil Surat Masuk",component:s},{path:"/master-data/surat-keluar",name:"Surat Keluar",component:c,exact:!0},{path:"/master-data/surat-keluar/:slug/:action",name:"Detil Surat Keluar",component:m,exact:!0},{path:"/request-surat",name:"Request Surat Keluar",component:d,exact:!0},{path:"/disposisi",name:"Disposisi",exact:!0},{path:"/disposisi/saya",name:"Disposisi",component:u},{path:"/buat-dokument",name:"Buat Dokument",exact:!0},{path:"/buat-dokument/variabel",name:"Template Variabel",component:h},{path:"/buat-dokument/sk",name:"Surat Keputusan",component:p,exact:!0},{path:"/buat-dokument/sk/:slug/:id/:sk_asal",name:"Detil Surat Keputusan",component:b},{path:"/konfig",name:"Konfigurasi",exact:!0},{path:"/konfig/aplikasi",name:"Konfigurasi Aplikasi",component:o},{path:"/konfig/user",name:"Konfigurasi User Pengguna",component:l},{path:"/theme",name:"Theme",component:Q,exact:!0},{path:"/theme/colors",name:"Colors",component:Q},{path:"/theme/typography",name:"Typography",component:r.a.lazy((function(){return t.e(63).then(t.bind(null,856))}))},{path:"/base",name:"Base",component:E,exact:!0},{path:"/base/breadcrumbs",name:"Breadcrumbs",component:v},{path:"/base/cards",name:"Cards",component:E},{path:"/base/carousels",name:"Carousel",component:N},{path:"/base/collapses",name:"Collapse",component:k},{path:"/base/forms",name:"Forms",component:S},{path:"/base/jumbotrons",name:"Jumbotrons",component:y},{path:"/base/list-groups",name:"List Groups",component:C},{path:"/base/navbars",name:"Navbars",component:z},{path:"/base/navs",name:"Navs",component:x},{path:"/base/paginations",name:"Paginations",component:_},{path:"/base/popovers",name:"Popovers",component:w},{path:"/base/progress-bar",name:"Progress Bar",component:D},{path:"/base/switches",name:"Switches",component:I},{path:"/base/tables",name:"Tables",component:g},{path:"/base/tabs",name:"Tabs",component:P},{path:"/base/tooltips",name:"Tooltips",component:j},{path:"/buttons",name:"Buttons",component:B,exact:!0},{path:"/buttons/buttons",name:"Buttons",component:B},{path:"/buttons/button-dropdowns",name:"Dropdowns",component:K},{path:"/buttons/button-groups",name:"Button Groups",component:A},{path:"/buttons/brand-buttons",name:"Brand Buttons",component:O},{path:"/charts",name:"Charts",component:T},{path:"/icons",exact:!0,name:"Icons",component:L},{path:"/icons/coreui-icons",name:"CoreUI Icons",component:L},{path:"/icons/flags",name:"Flags",component:U},{path:"/icons/brands",name:"Brands",component:J},{path:"/notifications",name:"Notifications",component:R,exact:!0},{path:"/notifications/alerts",name:"Alerts",component:R},{path:"/notifications/badges",name:"Badges",component:G},{path:"/notifications/modals",name:"Modals",component:q},{path:"/notifications/toaster",name:"Toaster",component:f},{path:"/widgets",name:"Widgets",component:r.a.lazy((function(){return Promise.all([t.e(6),t.e(18)]).then(t.bind(null,874))}))},{path:"/users",exact:!0,name:"Users",component:r.a.lazy((function(){return t.e(33).then(t.bind(null,858))}))},{path:"/users/:id",exact:!0,name:"User Details",component:r.a.lazy((function(){return t.e(32).then(t.bind(null,859))}))}];a.a=H},915:function(e,a,t){"use strict";t.r(a);var n=t(1),r=t.n(n),o=t(19),l=t(616),i=t(707),s=r.a.createElement("div",{className:"pt-3 text-center"},r.a.createElement("div",{className:"sk-spinner sk-spinner-pulse"})),c=r.a.memo((function(){return r.a.createElement("main",{className:"c-main"},r.a.createElement(l.w,{fluid:!0},r.a.createElement(n.Suspense,{fallback:s},r.a.createElement(o.d,null,i.a.map((function(e,a){return e.component&&r.a.createElement(o.b,{key:a,path:e.path,exact:e.exact,name:e.name,render:function(a){return r.a.createElement(l.H,null,r.a.createElement(e.component,a))}})})),r.a.createElement(o.a,{from:"/",to:"/dashboard"})))))})),m=r.a.memo((function(){return r.a.createElement(l.I,{fixed:!1},r.a.createElement("div",null,r.a.createElement("a",{href:"https://coreui.io",target:"_blank",rel:"noopener noreferrer"},"CoreUI"),r.a.createElement("span",{className:"ml-1"},"\xa9 2020 creativeLabs.")),r.a.createElement("div",{className:"mfs-auto"},r.a.createElement("span",{className:"mr-1"},"Powered by"),r.a.createElement("a",{href:"https://coreui.io/react",target:"_blank",rel:"noopener noreferrer"},"CoreUI for React")))})),u=t(160),d=t(625),p=function(){var e=Object(u.b)(),a=Object(u.c)((function(e){return e.sidebarShow}));return r.a.createElement(l.M,{withSubheader:!0},r.a.createElement(l.Qb,{inHeader:!0,className:"ml-md-3 d-lg-none",onClick:function(){var t=!![!1,"responsive"].includes(a)||"responsive";e({type:"set",sidebarShow:t})}}),r.a.createElement(l.Qb,{inHeader:!0,className:"ml-3 d-md-down-none",onClick:function(){var t=![!0,"responsive"].includes(a)&&"responsive";e({type:"set",sidebarShow:t})}}),r.a.createElement(l.N,{className:"mx-auto d-lg-none",to:"/"},r.a.createElement(d.a,{name:"logo",height:"48",alt:"Logo"})),r.a.createElement(l.O,{className:"d-md-down-none mr-auto"},r.a.createElement(l.P,{className:"px-3"},r.a.createElement(l.Q,{to:"/dashboard"},"Dashboard")),r.a.createElement(l.P,{className:"px-3"},r.a.createElement(l.Q,{to:"/konfig/user"},"Users")),r.a.createElement(l.P,{className:"px-3"},r.a.createElement(l.Q,{to:"/konfig/aplikasi"},"Settings"))),r.a.createElement(l.O,{className:"px-3"},r.a.createElement(N,null),r.a.createElement(k,null),r.a.createElement(E,null),r.a.createElement(b,null)),r.a.createElement(l.Gb,{className:"px-3 justify-content-between"},r.a.createElement(l.e,{className:"border-0 c-subheader-nav m-0 px-0 px-md-3",routes:i.a}),r.a.createElement("div",{className:"d-md-down-none mfe-2 c-subheader-nav"},r.a.createElement(l.db,{className:"c-subheader-nav-link",href:"#"},r.a.createElement(d.a,{name:"cil-speech",alt:"Settings"})),r.a.createElement(l.db,{className:"c-subheader-nav-link","aria-current":"page",to:"/dashboard"},r.a.createElement(d.a,{name:"cil-graph",alt:"Dashboard"}),"\xa0Dashboard"),r.a.createElement(l.db,{className:"c-subheader-nav-link",href:"#"},r.a.createElement(d.a,{name:"cil-settings",alt:"Settings"}),"\xa0Settings"))))},b=Object(o.j)((function(e){var a=e.history,t=JSON.parse(localStorage.getItem("instansi"));return r.a.createElement(l.z,{inNav:!0,className:"c-header-nav-items mx-2",direction:"down"},r.a.createElement(l.E,{className:"c-header-nav-link",caret:!1},r.a.createElement("div",{className:"c-avatar"},r.a.createElement(l.R,{src:"".concat("http://surat3.pa-kotabaru.go.id/public","/logo/").concat(t.logo),height:35,width:35,style:{marginTop:-5},alt:"admin@bootstrapmaster.com"}))),r.a.createElement(l.D,{className:"pt-0",placement:"bottom-end"},r.a.createElement(l.C,null,r.a.createElement(d.a,{name:"cil-user",className:"mfe-2"}),"Profile"),r.a.createElement(l.C,null,r.a.createElement(d.a,{name:"cil-settings",className:"mfe-2"}),"Settings"),r.a.createElement(l.C,{divider:!0}),r.a.createElement(l.C,{onClick:function(){localStorage.clear(),a.push("/login")}},r.a.createElement(d.a,{name:"cil-lock-locked",className:"mfe-2"}),"Logouts")))})),h=t(647),f=t(156),g=t(620),v=t.n(g),E=function(){var e=Object(n.useContext)(h.a),a=e.Notifikasi2,t=e.DataNotifikasi2,o=e.GetNotif,i=a;return r.a.createElement(l.z,{inNav:!0,className:"c-header-nav-item mx-2",direction:"down"},r.a.createElement(l.E,{className:"c-header-nav-link",caret:!1},r.a.createElement(d.a,{name:"cil-envelope-open"}),r.a.createElement(l.b,{shape:"pill",color:"info"},i)),r.a.createElement(l.D,{className:"pt-0",placement:"bottom-end"},r.a.createElement(l.C,{header:!0,tag:"div",color:"light"},r.a.createElement("strong",null,i," Pesan Aktivitas")),t.map((function(e,a){return r.a.createElement(l.C,{key:a,href:"#"},r.a.createElement("div",{className:"message"},r.a.createElement(f.b,{to:"/master-data/surat-masuk/".concat(e.slug)},r.a.createElement("div",null,r.a.createElement("small",{className:"text-muted"},e.pelaku_nama),r.a.createElement("small",{className:"text-muted float-right mt-1"},"Just now")),r.a.createElement("div",{className:"text-truncate font-weight-bold"},r.a.createElement("span",{className:"fa fa-exclamation text-danger"})," ",e.nomor_surat,r.a.createElement("span",{style:{fontSize:8,marginLeft:10}},"(",e.asal_surat,")")),r.a.createElement("div",{className:"small text-muted text-truncate",style:{width:"100%"}},e.pesan))))})),t.length>0?r.a.createElement(l.C,{href:"#",onClick:function(){return function(){var e=JSON.parse(localStorage.getItem("user"));v.a.get("".concat("http://surat3.pa-kotabaru.go.id/public","/api/sudah-dibaca"),{headers:{Accept:"application/json",Authorization:"Bearer ".concat(e.token)}}).then((function(e){o()})).catch((function(e){console.log(e)}))}()},className:"text-center border-top"},r.a.createElement("strong",null,"Sudah Saya Baca Semua")):null))},N=function(){var e=Object(n.useContext)(h.a).Notifikasi;return r.a.createElement(l.z,{inNav:!0,className:"c-header-nav-item mx-2"},r.a.createElement(l.E,{as:f.b,to:"/disposisi/saya",className:"c-header-nav-link",caret:!1},r.a.createElement(d.a,{name:"cil-bell"}),r.a.createElement(l.b,{shape:"pill",color:"danger"},e)))},k=function(){var e=Object(n.useContext)(h.a).Notifikasi2;return r.a.createElement(l.z,{inNav:!0,className:"c-header-nav-item mx-2"},r.a.createElement(l.E,{className:"c-header-nav-link",caret:!1},r.a.createElement(d.a,{name:"cil-list"}),r.a.createElement(l.b,{shape:"pill",color:"warning"},e)),r.a.createElement(l.D,{placement:"bottom-end",className:"pt-0"},r.a.createElement(l.C,{header:!0,tag:"div",className:"text-center",color:"light"},r.a.createElement("strong",null,"You have ",e," pending tasks"))))},S=[{_tag:"CSidebarNavItem",name:"Dashboard",to:"/dashboard",icon:"cil-speedometer",badge:{color:"info",text:"NEW"}},{_tag:"CSidebarNavTitle",_children:["Master Data"]},{_tag:"CSidebarNavDropdown",name:"Tata Persuratan",route:"/master-data",icon:"cil-envelope-open",_children:[{_tag:"CSidebarNavItem",name:"Surat Masuk",to:"/master-data/surat-masuk"},{_tag:"CSidebarNavItem",name:"Surat Keluar",to:"/master-data/surat-keluar"}]},{_tag:"CSidebarNavDropdown",name:"List Disposisi",route:"/disposisi",icon:"cil-envelope-open",_children:[{_tag:"CSidebarNavItem",name:"List Disposisi",to:"/disposisi/saya"}]},{_tag:"CSidebarNavItem",name:"Request Surat",to:"/request-surat",icon:"cil-envelope-open"},{_tag:"CSidebarNavDropdown",name:"Buat Dokument",route:"/buat-dokument",icon:"cil-file",_children:[{_tag:"CSidebarNavItem",name:"Surat Keputusan (SK)",to:"/buat-dokument/sk"},{_tag:"CSidebarNavItem",name:"Template Variabel",to:"/buat-dokument/variabel"}]},{_tag:"CSidebarNavTitle",_children:["Konfigurasi"]},{_tag:"CSidebarNavItem",name:"Konfigurasi Aplikasi",to:"/konfig/aplikasi",icon:"cil-settings"},{_tag:"CSidebarNavItem",name:"Konfigurasi User",to:"/konfig/user",icon:"cil-people"}],y=[{_tag:"CSidebarNavItem",name:"Dashboard",to:"/dashboard",icon:"cil-speedometer",badge:{color:"info",text:"NEW"}},{_tag:"CSidebarNavTitle",_children:["Master Data"]},{_tag:"CSidebarNavDropdown",name:"Tata Persuratan",route:"/master-data/surat",icon:"cil-envelope-open",_children:[{_tag:"CSidebarNavItem",name:"Surat Masuk",to:"/master-data/surat-masuk"},{_tag:"CSidebarNavItem",name:"Surat Keluar",to:"/master-data/surat-keluar"}]},{_tag:"CSidebarNavDropdown",name:"Disposisi",route:"/disposisi",icon:"cil-envelope-open",_children:[{_tag:"CSidebarNavItem",name:"Disposisi Masuk",to:"/disposisi/saya"},{_tag:"CSidebarNavItem",name:"History Disposisi",to:"/master-data/surat-keluar"}]},{_tag:"CSidebarNavItem",name:"Request Surat",to:"/request-surat",icon:"cil-envelope-open"},{_tag:"CSidebarNavTitle",_children:["Konfigurasi"]},{_tag:"CSidebarNavItem",name:"Konfigurasi User",to:"/konfig/user",icon:"cil-people"},{_tag:"CSidebarNavDropdown",name:"Buat Dokument",route:"/buat-dokument",icon:"cil-file",_children:[{_tag:"CSidebarNavItem",name:"Surat Keputusan (SK)",to:"/buat-dokument/sk"},{_tag:"CSidebarNavItem",name:"Template Variabel",to:"/buat-dokument/variabel"}]}],C=r.a.memo((function(){var e=JSON.parse(localStorage.getItem("user")),a=Object(u.b)(),t=Object(u.c)((function(e){return e.sidebarShow}));return r.a.createElement(l.yb,{show:t,onShowChange:function(e){return a({type:"set",sidebarShow:e})}},r.a.createElement(l.zb,{className:"d-md-down-none",to:"/"},"Apri Persuratan"),r.a.createElement(l.Bb,null,r.a.createElement(l.x,{items:e&&1===e.level?S:y,components:{CSidebarNavDivider:l.Cb,CSidebarNavDropdown:l.Db,CSidebarNavItem:l.Eb,CSidebarNavTitle:l.Fb}})),r.a.createElement(l.Ab,{className:"c-d-md-down-none"}))})),z=function(){return Object(n.useContext)(h.a).Load?r.a.createElement("div",{className:"c-app c-default-layout flex-row align-items-center"},r.a.createElement(l.w,null,r.a.createElement(l.wb,{className:"justify-content-center"},r.a.createElement(l.u,{md:"6"},r.a.createElement("div",{className:"clearfix"},r.a.createElement("h1",{className:"float-left display-3 mr-4"},"...Loading"),r.a.createElement("p",{className:"float-left"},"Aplikasi APRI, Persuratan Internal Multiflatform (Dekstop dan Android)")))))):r.a.createElement("div",{className:"c-app c-default-layout"},r.a.createElement(C,null),r.a.createElement("div",{className:"c-wrapper"},r.a.createElement(p,null),r.a.createElement("div",{className:"c-body"},r.a.createElement(c,null)),r.a.createElement(m,null)))};a.default=function(){return localStorage.getItem("login")?r.a.createElement(h.b,null,r.a.createElement(z,null)):r.a.createElement(o.a,{to:"/login"})}}}]);
//# sourceMappingURL=22.793048e4.chunk.js.map